# ----------------------------------------------------------------------------------------------------------------------- #

Коллизии хэшей:
- Даже при ILP-оптимизации (section 4.2) вероятность коллизий оценивается как *1 - exp(-dᵢₙ/d')*. Для *dᵢₙ/d' > 5* это >99%.
- Решение: ввести многократное хэширование (например, 2-4 независимых проектора) для высокоразмерных данных?

Условие сходимости для K ≥ 3:
- Дисперсия оценки растёт как ∏‖xₖ‖²‖yₖ‖² / d' (п. 2.3, L3). При K > 2 и ‖xₖ‖ ~ 1 требуется *d' ≥ 1/ε²*, что для *ε=0.01* даёт *d'=10⁴* – неприемлемо для edge-устройств.
- Решение: добавить нормализацию входов?

Ортогональные проекции:
- SVD-нормализация каждые N шагов (section 4.1) нарушает стохастичность оптимизации.
- Решение: реализовать параметризацию Штифеля (Stiefel-optimizer) для AᵀA=I?

BGN для разреженных данных:
- Нормализация градиентов по ℓ₂ (п. 4.3) может подавлять сигнал от редких признаков.
- Решение: ввести адаптивный порог τ, основанный на медиане ‖∇‖?

# ----------------------------------------------------------------------------------------------------------------------- #

Ключевые рекомендации:
- Добавить тесты на стабильность градиентов при K≥3.
- Исследовать влияние коллизий на accuracy в зависимоти от dᵢₙ/d'.
- Оптимизировать ILP-bake для dᵢₙ > 10⁴ (например, через жадную кластеризацию).
- Расширить описание cascade mode и привести конкретный пример (например, видео-сетка (T × H × W × C)).


# ----------------------------------------------------------------------------------------------------------------------- #

A. Построить формальный Variance Lemma

Доказать строго, что:
$$
\text{Var}[\langle \Phi(x), \Phi(y) \rangle] \le \frac{1}{d'} \cdot \prod_k \|x_k\|^2 \|y_k\|^2
$$
в явном виде, используя свойства независимых скетчей и свёртки в Фурье-пространстве.

B. Добавить аналитический разбор BGN

Сделать:
* Формализацию поведения нормализатора градиентов как проекцию на евклидову сферу радиуса $\sqrt{d'}$.
* Анализ потери градиентной информации при этом (например, угловая ошибка между оригинальным и нормализованным градиентом).

C. Ввести вероятностные гарантии

Описать:
* При каком $d'$ обеспечивается заданная точность с вероятностью $1 - \delta$.
* Какова минимальная мощность хеш-функции (или размерность фазовых таблиц), чтобы обойти эффект коллизий с вероятностью $< \eta$.
